<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<meta content="width=device-width, initial-scale=1.0" name="viewport">

		<title>现代数据概述</title>
		<meta content="" name="description">
		<meta content="" name="keywords">

		<!-- Favicons -->
		<link href="assets/img/favicon.png" rel="icon">
		<link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

		<!-- Google Fonts -->
		<link
			href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
			rel="stylesheet">

		<!-- Vendor CSS Files -->
		<link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
		<link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
		<link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
		<link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
		<link href="assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
		<link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
		<link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
		<link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
		<link href="assets/bootstrap-year-calendar/css/bootstrap-year-calendar.css">
		<link href="assets/bootstrap-year-calendar/css/bootstrap-year-calendar.min.css">
		<!-- Template Main CSS File -->
		<link href="assets/css/style.css" rel="stylesheet">

		<!-- 导入阿里的图标样式文件 -->
		<link rel="stylesheet" href="assets/css/iconfont.css">
		<link rel="stylesheet" href="assets/css/left_nav.css">

		<!-- js -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/bootstrap-year-calendar/js/bootstrap-year-calendar.js"></script>
		<script src="assets/bootstrap-year-calendar/js/bootstrap-year-calendar.min.js"></script>
		<!-- import moment JavaScript -->
		<script src="assets/js/moment.js"></script>
		<script src="assets/js/moment.min.js"></script>
		<!-- import element-ui CSS -->
		<link rel="stylesheet" href="assets/css/element-ui/theme-chalk/index.css">
		<!-- import Vue before Element -->
		<script src="assets/js/vue/vue.js"></script>
		<!-- import element-ui JavaScript -->
		<script src="assets/js/element-ui/lib/index.js"></script>

		<!-- import api.js -->
		<script src="assets/js/axios.js"></script>
		<script src="assets/js/axios.min.js"></script>
		<script src="assets/js/api.js"></script>
	</head>

	<body>
		<!-- ======= Header ======= -->
		<div id="head"></div>
		<script>
			$("#head").load("head.html");
		</script>
		<!-- End Header -->
		<main id="main" style="margin-top: 107.19px;">
			<section class="inner-page" style="padding-top: 0px;">
				<div class="container">
					<div class="row">
						<!-- 展示与隐藏侧边栏 开始-->
						<!-- <input type="checkbox" id="menu-btn">
					    <label for="menu-btn"><i class="iconfont icon-yemianfanhui"></i></label> -->
						<!-- 展示与隐藏侧边栏 结束-->
						<div id="device-introduce">
							<div class="container">
								<el-container>
									<el-aside width="13%">
										<el-col>
											<el-menu class="el-menu-vertical-demo"
												:default-active="this.device_list[this.activate_id]">
												<!-- :index 要是字符串类型,而for中的index是数值,如果直接写会报错,但不影响运行.所以加个空转为字符串型就不错了 -->
												<el-menu-item @click.native="changeDevice(i)" :index="item.deviceName"
													v-for="(item,i) in this.device_list" :key="item.deviceName">
													<span>{{item.deviceName}}</span>
												</el-menu-item>
											</el-menu>
										</el-col>
									</el-aside>
									<el-main>
										<el-container>
											<el-aside width="70%">
												<div class="textBox">

													<h2>{{this.activate_device_name}}概述</h2>
													<p>&nbsp; &nbsp;
														HM-YQX5型产品
													</p>
													<h2>{{this.activate_device_name}}特点</h2>
													<p>*采用先进的传感技术实时测量</p>
													<h2>{{this.activate_device_name}}应用领域</h2>
													<p>*气象监测</p>
													<h2>{{this.activate_device_name}}技术参数表</h2>
													<p>*桥梁隧道</p>
												</div>
											</el-aside>
											<el-main>
												<el-image :src="active_src">
													<div slot="error" class="image-slot">
														<i class="el-icon-picture-outline"></i>
													</div>
												</el-image>
											</el-main>
										</el-container>
									</el-main>
								</el-container>
							</div>

							<div class="data-download">
								<el-button type="primary" @click="pushTo('inner-page-currentData.html?data-level=0')"
									rounds>0级数据下载
								</el-button>
								<el-button type="primary" @click="pushTo('inner-page-currentData.html?data-level=1')"
									rounds>1级数据下载
								</el-button>
							</div>
							<el-row
								style="color: #FFFFFF;padding: 5px 5px 5px 15px;background: url(assets/img/data_recommend_bgBlue.png) 0px 0px no-repeat;">
								<el-col :span="24">
									<div class="grid-content bg-purple-dark el-icon-document">&nbsp;相关文档</div>
								</el-col>
							</el-row>
							<el-row style="padding: 5px 5px 5px 15px;">
								<el-col :span="24">
									<div class="grid-content bg-purple-dark">
										<span><i class="el-icon-magic-stick">&nbsp;方差分析相关资料：</i></span>
										<el-link target="_blank" href="data/方差分析练习.pdf" type="primary">方差分析练习</el-link>
									</div>
								</el-col>
							</el-row>


						</div>

					</div>
				</div>
			</section>
		</main>
		<!-- End #main -->
		<footer id="copyright"></footer>

		<!-- Vendor JS Files -->
		<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
		<script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
		<script src="assets/vendor/php-email-form/validate.js"></script>
		<script src="assets/vendor/purecounter/purecounter.js"></script>
		<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

		<!-- Template Main JS File -->
		<script src="assets/js/main.js"></script>
		<script>
			$("#copyright").load("components/copyright.html")
		</script>
	</body>
	<style>
		#copyright {
			margin-top: 10%;
			width: 100%;
		}

		.data-download {
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.el-button--primary,
		.el-button--primary:focus {
			color: #FFF;
			background-color: #1977CC;
			border-color: #1977CC;
			margin-bottom: 2%;
			margin-bottom: 5%;
		}

		.el-link--inner {
			color: #1977CC;
		}

		.el-link.el-link--primary {
			color: #1977CC;
		}

		.details {
			background-color: #FFFFFF;
		}

		.data-download {
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.el-button--primary {
			color: #FFF;
			background-color: #1977CC;
			border-color: #1977CC;
			margin-bottom: 50px;
		}

		.el-link--inner {
			color: #1977CC;
		}

		.el-link.el-link--primary {
			color: #1977CC;
		}
	</style>
	<script src="assets/js/login/login.js"></script>
	<script>
		new Vue({
			el: '#device-introduce',
			data() {
				return {
					device_list: ["自动气象站", "雨量筒", "能见度仪", "云高仪", "雨滴谱仪", "雾滴谱仪", "颗粒物仪", "微雨雷达", "微波辐射计", ],
					active_id: 0,
					activate_device_name: "自动气象站",
					active_src: ''
				}
			},
			beforeMount() {
				this.deviceInfo()

				this.active_id = this.checkUrl()

				this.activate_device_name = this.device_list[this.active_id]

				this.active_src = 'assets/img/devices/' + this.activate_device_name + '.jpg'
			},
			watch: {

			},
			computed: {},
			methods: {
				changeDevice(key) {
					this.active_id = key
					this.activate_device_name = this.device_list[this.active_id].deviceName
					this.active_src = 'assets/img/devices/' + this.activate_device_name + '.jpg'
				},
				checkUrl() {
					href_str = window.location.href
					if (href_str.indexOf("device_id") != -1) {
						buffer = href_str.substring(href_str.lastIndexOf('device_id'))
						buffer = buffer.split("=")[1]
						try {
							id = parseInt(buffer)
							return id
						} catch (e) {
							//TODO handle the exception
							return 0
						}
					}
					return 0
				},
				deviceInfo() {
					response = getDeviceInfo()
					response.then(res => {
						this.device_list = res.data.data || ["自动气象站", "雨量筒", "能见度仪", "云高仪", "雨滴谱仪", "雾滴谱仪",
							"颗粒物仪", "微雨雷达", "微波辐射计"
						]
					}).catch(err => {
						this.device_list = ["自动气象站", "雨量筒", "能见度仪", "云高仪", "雨滴谱仪", "雾滴谱仪", "颗粒物仪", "微雨雷达",
							"微波辐射计"
						]
					})
				},
				downloadData() {
					this.$message.success('请求成功，等待服务器响应！');
				},
				pushTo(url) {
					console.log(this.active_id)
					window.location.href = url;
				}
			}
		})
	</script>
</html>
